<p align="center">
 <img width="100px" src="https://raw.githubusercontent.com/NekoSilverFox/NekoSilverfox/403ab045b7d9adeaaf8186c451af7243f5d8f46d/icons/silverfox.svg" align="center" alt="NekoSilverfox" />
 <h1 align="center">MATLAB</h2>
 <p align="center"><b>项目库</b></p>
</p>


<div align=center>


[![License](https://img.shields.io/badge/license-Apache%202.0-brightgreen)](LICENSE)
![版本](https://img.shields.io/badge/MATLAB-R2021b-orange)


<div align=left>
<!-- 顶部至此截止 -->


[toc]

# MATLAB 基础

## 变量命名

- 变量名区分大小写
- 变量名不能以数字开头，且不能使用标点
- 变量名的长度不能超过 63 位



## MatLab 特殊之处

- **MATLAB 的索引是从 1 开始索引！**



## 数据类型

### 数字

就是一个普通的阿拉伯数字，比如 6， 4， 39





### 字符和字符串

**注意要使用单引号包裹！**

```matlab
c = 'A'				%% 注意要用单引号
str = 'Silverfox'	%% 注意要用单引号
```





### 矩阵

- 定义

    **矩阵使用大括号包裹，空格代表分隔数字，分号代表换行**

    ```matlab
    A = [1 2 3; 4 5 6; 7 8 9]
    
    输出：
    A =
    
         1     2     3
         4     5     6
         7     8     9
    ```






### 元胞数组

元胞数组是 MAILAB 中特有的一种数据类型，是数组的一种，其内部元素可以是属于不同的数据类型，概念理解上，可以认为它和 C 语言里面的结构体、C++ 里面的对象。元胞数组是 MAILAB 中的特色数据类型，它不同于其它数据类型（如字符型，字符数组或者叫字符串，以及一般的算术数据和数组）。它特有的存取数据方法決定了它的特点，它有给人一种查询信息的感觉，可以逐渐追踪一直到所有的变量全部翻译成基本的数据信息。它的 class 函数输出就是 cell（细胞之意）。

- **定义**

    `A = cell(行, 列)`

    

- **取值**

    > MATLAB 的索引是从 1 开始索引！

    `cell{n}`





### 结构体

类似于 Python 中的字典



- **定义**

    `A = struct(key1, values1, key2, values2, ...)`



```matlab
books = struct('name', {{'Machine Learing', 'Data Mining'}}, 'price', [30 40])
>>>
books = 包含以下字段的 struct：
     name: {'Machine Learing'  'Data Mining'}
    price: [30 40]


books.name
>>>
ans = 1×2 cell    
'Machine Learing''Data Mining'


books.name(1)  %% 用小括号取值，取出的是 cell 数组！
>>>
ans = 1x1 cell 数组
    {'Machine Learing'}

books.name{1}   %% 用小括号取值，取出的是字符串！
>>>
ans = 'Machine Learing'
```



---



## 环境变量与命令

- `clear all` - 清除 Workspace 中的所有变量

- `clc` - 清除 Command Window 中的所有命令

- `%%` - 行注释

- `abs(字符)` - 输出这个字符的 ASCII 码

    ```matlab
    abs(a)		%% 输出 `97`
    ```

- `char(数字)` - 输出这个数字（ASCII 码）对应的字符

    ```matlab
    char(97)	%% 输出 `a`
    ```

- `length(字符串)` - 返回字符串长度，包括空格





---



# 矩阵

## 矩阵运算

> 所有带 `.` 的操作都是 2 个矩阵的**对应元素**进行相应操作



**矩阵的四则运算**

| 方法     | 描述                                   |
| -------- | -------------------------------------- |
| `A + B`  | 矩阵对应元素相加                       |
| `A - B`  | 矩阵对应元素相减                       |
| `A * B`  | 矩阵相乘（注意运算规则）               |
| `A .* B` | 矩阵**对应元素**相乘                   |
| `A / B`  | 相当于 A 乘以 **B 的逆 (inv(matrix))** |
| `A ./ B` | 矩阵**对应元素**相除                   |



**矩阵的其他操作**

| 方法/操作                             | 描述                     |
| ------------------------------------- | ------------------------ |
| `M'`                                  | 将 M 转置                |
| `M(:)`                                | 将 M 拉长                |
| `inv(M)`                              | 返回 M 的逆矩阵          |
| `[row, col] = find(矩阵的布尔表达式)` | 返回符合条件的行列的列表 |



**矩阵类数据生成**

| 函数                               | 描述                                                         |
| ---------------------------------- | ------------------------------------------------------------ |
| `zero(row, col)`                   | 生成 row 行，col 列元素全为 0 的矩阵                         |
| `ones(row, col)`                   | 生成 row 行，col 列元素全为 1 的矩阵                         |
| `eye(n)`                           | 生成 n*n 的对角为 1 的矩阵                                   |
| `magic(n)`                         | 生成 n*n 的幻方矩阵（矩阵的每列、每行、主副对角线的和都相等） |
| `matrix = [a b c d; e f g h]`      | **矩阵使用大括号包裹，空格代表分隔元素，分号代表换行**       |
| `matrix = 起始值:步长:结束值`      | 从起始值开始按步长的值开始生成数据直到大于等于结束值         |
| `repmat(matrix, rep_row, rep_col)` | 将矩阵 matrix 在行的方向重复 rep_row 次，列的方向重复 rep_col 次 |







---

**表格中操作的演示：**



- **矩阵转置（行变列，列变行）**

    **在一个矩阵后面加一个 `'` 即可把它转置**

    ```matlab
    B = A'
    
    输出：
    B =
    
         1     4     7
         2     5     8
         3     6     9
    ```

    

- **矩阵拉长？**

    **在一个矩阵后面加一个 `(:)` 即可把它拉长**

    将矩阵先转置后拉长

    或者说是矩阵按照列拼接在一起

    ```matlab
    C = A(:)
    
    输出：
    C =
    
         1
         4
         7
         2
         5
         8
         3
         6
         9
    ```

    

- **逆矩阵**

    `inv(矩阵)` - 返回逆矩阵

    **注意，只有方阵（n×n 的矩阵）才可能有逆矩阵。若方阵 A 的逆矩阵存在，则称 A 为非奇异方阵或可逆方阵。**

    ```matlab
    D = inv(A)
    
    输出：
    D =
    
       1.0e+16 *
    
       -0.4504    0.9007   -0.4504
        0.9007   -1.8014    0.9007
       -0.4504    0.9007   -0.4504
    ```

    

- **返回符合条件的下标的列表**

    ```matlab
    %% 定义一个矩阵
    A = magic(5)
    >>>
    A = 5×5    
        17    24     1     8    15
        23     5     7    14    16
         4     6    13    20    22
        10    12    19    21     3
        11    18    25     2     9
    
    
    [row, col] = find(A > 10)
    >>> 返回了所有符合条件的下标的列表
    row = 15×1    
         1
         2
         5
         1
         4
         5
         3
         4
         5
         2
    
    col = 15×1    
         1
         1
         1
         2
         2
         2
         3
         3
         3
         4
    
    ```





- 生成全为 0 的矩阵

`zero(行, 列, 维度)`



```matlab
E = zeros(10, 5, 3)

>>>
E = 
E(:,:,1) =

     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0


E(:,:,2) =

     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0


E(:,:,3) =

     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0
     0     0     0     0     0

```





# 数据生成







---



## 随机数生成

- **0~1 之间的伪随机数**

    - `rand(行, 列)` 生成几行几列的均匀分布的伪随机数

    - `rand(行, 列, 'double')` 生成指定精度的均匀分布的伪随机数，参数还可以是 `'single'`

    - `rand(随机数种子, 行, 列)` 指定随机数种子生成伪随机数



- **标准正太分布的伪随机数（均值为 0，方差为 1）**
    - `randn(XXXXXXXX)` 参数和上面一样



- **生成均匀分布的伪随机整数**

    - `randi(iMax)` 在开区间 (0, iMax) 生成均匀分布的伪随机数

    - `randi(iMax, 行, 列)` 在开区间 (0, iMax) 生成均匀分布的伪随机数矩阵

    - `randi([iMin, iMax], 行, 列)` 在开区间 (iMin, iMax) 生成均匀分布的伪随机数矩阵



```matlab
E(:, :, 1) = rand(10, 5)
E(:, :, 2) = randn(10, 5)
E(:, :, 3) = randi([5, 10], 10, 5)

>>>
E = 
E(:,:,1) =

    0.3872    0.1769    0.7232    0.3833    0.0300
    0.1422    0.9574    0.3474    0.6173    0.5357
    0.0251    0.2653    0.6606    0.5755    0.0871
    0.4211    0.9246    0.3839    0.5301    0.8021
    0.1841    0.2238    0.6273    0.2751    0.9891
    0.7258    0.3736    0.0216    0.2486    0.0669
    0.3704    0.0875    0.9106    0.4516    0.9394
    0.8416    0.6401    0.8006    0.2277    0.0182
    0.7342    0.1806    0.7458    0.8044    0.6838
    0.5710    0.0451    0.8131    0.9861    0.7837


E(:,:,2) =

    0.1472    2.1066   -0.2991    0.0512   -0.9530
    2.2957   -0.7158   -0.8999   -0.7745    0.3539
    2.7526   -0.2805    0.6347    0.7868    1.5970
    0.1383    1.1665    0.0675    1.4089    0.5275
   -1.9071    1.2128   -0.1871   -0.5341    0.8542
   -0.3650    0.4855    0.2917    1.9278    1.3418
   -0.8481    1.0260    0.9877   -0.1762   -2.4995
   -0.7648    0.8707    0.3929   -0.2438   -0.1676
   -1.1277   -0.3818    0.1946   -0.8976    0.3530
    0.0782    0.4289    0.2798   -0.7923    0.7173


E(:,:,3) =

     6     5     6     8     9
     6     6     6     7     8
     9     5     7    10     7
     7     7     6     9    10
     8     6     8     7     5
     6    10    10    10     9
     6     5     8     5     8
     9     5     5     7     9
     9     8     7    10     7
    10     9     5    10     9
```



# 逻辑与流程控制

## for

- **标准结构**

    ```matlab
    for 循环变量 = 起始值 : 步长 : 结束值
    
        执行语句 1
        ...
        执行语句 n
    
    end



- **步长默认为 1，所以可以省略**

    ```matlab
    for 循环变量 = 起始值 : 结束值
    
        执行语句 1
        ...
        执行语句 n
    
    end
    ```



## while

```matlab
while 条件表达式
	...
end
```



## if-end

```matlab
if 条件表达式
	...
end
```



## if-else-end

```matlab
if 条件表达式
	...
else
	...
end
```



## switch-case-end

```matlab
switch 表达式(数值或字符串)

	case 数值或字符串1
	...
	
	case 数值或字符串2
	...
	
	otherwise
		如果 case 都不满足则执行，并且此部分可省略
	
end
```



